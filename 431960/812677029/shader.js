var slr=50,rds=.25,bst=100,gmm=100,my_curve=3,mde=3,xps=50,yps=50,gjk=.35,dfi=0,duh=.25,smh=2,smptyui=[],smprtyu=[],smprtyuNew=[],smperty=[],smpwert=[],smpqwer=[];function wallpaperAudioListener(a){smptyui=a}window.wallpaperPropertyListener={applyUserProperties:function(a){if(a.schemecolor)var b=a.schemecolor.value.split(" "),b=b.map(function(a){return Math.ceil(255*a)});a.cmusercolor&&(b=a.cmusercolor.value.split(" "),gjk=b[0],dfi=b[1],duh=b[2]);a.customimage&&(document.body.style.backgroundImage='url("file:///'+a.customimage.value+'")',document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center center",document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundColor="black");a.fpsbool&&(b=a.fpsbool.value,document.getElementById("stats").style.display=b?"block":"none");a.cmsldint&&(slr=a.cmsldint.value);a.cmgmmint&&(gmm=a.cmgmmint.value);a.cmmode&&(mde=a.cmmode.value);a.cmcombo&&(my_curve=a.cmcombo.value);a.cmasmooth&&(smh=a.cmasmooth.value);a.cmrdsint&&(rds=.01*a.cmrdsint.value);a.cmxint&&(xps=a.cmxint.value);a.cmyint&&(yps=a.cmyint.value);a.cmbstint&&(bst=a.cmbstint.value)}};window.wallpaperRegisterAudioListener(wallpaperAudioListener);(function(){var a,b;function h(l){a=window.innerWidth;b=window.innerHeight;c.rz.value.x=a;c.rz.value.y=b;d.setSize(a,b);e.aspect=a/b;e.updateProjectionMatrix()}function k(){requestAnimationFrame(k);f.begin();c.rd.value=rds;c.gm.value=gmm;c.cv.value=my_curve;c.md.value=mde;c.xp.value=xps;c.yp.value=yps;c.tr.value=gjk;c.tg.value=dfi;c.tb.value=duh;for(var a=0;a<smptyui.length;a++)2==smh?(smprtyuNew[a]=smperty[a],smperty[a]=smpwert[a],smpwert[a]=smpqwer[a],smpqwer[a]=bst/100*smptyui[a],smprtyu[a]=(smprtyuNew[a]+smperty[a]+smpwert[a])/3):smprtyu[a]=bst/100*smptyui[a];c.asp.value=smprtyu;c.time.value+=slr/100*.02;d.render(g,e);f.end()}a=window.innerWidth;b=window.innerHeight;var e,g,d,c,f=new Stats;f.showPanel(0);document.body.appendChild(f.dom);container=document.getElementById("container");e=new THREE.Camera(20,a/b,1,1E4);e.position.z=1800;g=new THREE.Scene;d=new THREE.WebGLRenderer;d.setSize(a,b);container.appendChild(d.domElement);window.addEventListener("resize",h,!1);(function(){c={time:{type:"f",value:1},rz:{type:"v2",value:new THREE.Vector2},rd:{type:"f",value:.25},gm:{type:"f",value:100},cv:{type:"f",value:3},md:{type:"f",value:3},xp:{type:"f",value:50},yp:{type:"f",value:50},tr:{type:"f",value:.35},tg:{type:"f",value:0},tb:{type:"f",value:.25},asp:{type:"fv1",smptyui:smptyui}};var a=new THREE.MeshShaderMaterial({uniforms:c,vertexShader:document.getElementById("vertexShader").textContent,fragmentShader:document.getElementById("fragmentShader").textContent}),a=new THREE.Mesh(new Plane(30,30,1,1),a);a.position.z=100;a.scale.x=100;a.scale.y=100;a.scale.z=100;g.addObject(a)})();h();k()})();